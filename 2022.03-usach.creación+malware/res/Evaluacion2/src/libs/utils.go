package utils

import (
	"fmt"
	"github.com/fatih/color"
	"time"
)

const TIME_FORMAT = "2006-01-02 15:04:05.000000"

var (
	timePrint      func(format string, a ...interface{}) = color.New(color.FgCyan).PrintfFunc()
	separatorPrint func(format string, a ...interface{}) = color.New(color.FgYellow).PrintfFunc()
)

func PrintlnDebug(debug bool, message string, args ...interface{}) {
	fmt.Println()
	if args == nil {
		PrintDebug(debug, message)
	} else {
		PrintDebug(debug, message, args)
	}
}
func PrintDebug(debug bool, message string, args ...interface{}) {
	if debug {
		now := time.Now()
		timePrint("%s", now.Format(TIME_FORMAT))
		separatorPrint(" > ")
		fmt.Printf(message, args...)
		fmt.Println()
	}
}
